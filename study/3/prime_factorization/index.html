<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="juten10x">
<link rel="icon" href="../../../assets/favicon.ico">
<link rel="stylesheet" href="../../../assets/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/google-light.min.css">
<title>prime_factorization | juten10x</title>
</head>
<body>

<div id="menu">
  <div id="menu_t">
    <a class="mya" href="https://juten10x.github.io">juten10x</a>
  </div>

  <div id="menu_m">
    <a class="mya" href="https://juten10x.github.io/info">Info</a><br>
    <a class="mya" href="https://juten10x.github.io/blog">Blog</a><br>
    <a class="mya" href="https://juten10x.github.io/gallery">Gallery</a><br>
    <a class="mya" href="https://juten10x.github.io/study">study/</a>
  </div>
</div>
<div id="menu2">
  <a class="mya" href="#">page top</a>

  <br>
  <nav class="breadcrumbs">
    <a href="../../../">ホーム</a>&nbsp;&gt;
    <a href="../../">study</a>&nbsp;&gt;
    <a href="../">3</a>&nbsp;&gt;
  </nav>
</div>

<header id="menu_forPhone">
  <input type="checkbox" class="i-btn" id="i-btn">
  <label class="label-b" for="i-btn"></label>
  <span class="btn" id="btn">
  <span></span>
  <span></span>
  </span>

  <div id="forPhone_ju"><a class="mya" href="https://juten10x.github.io">juten10x</a></div>

  <ul id="menu_list">
    <li><a class="mya" href="https://juten10x.github.io/info">Info</a></li>
    <li><a class="mya" href="https://juten10x.github.io/blog">Blog</a></li>
    <li><a class="mya" href="https://juten10x.github.io/gallery">Gallery</a></li>
    <li><a class="mya" href="https://juten10x.github.io/study">study/</a></li>
    <li><nav id="breadcrumbs">
      <a href="../../../">ホーム</a>&nbsp;&gt;
      <a href="../../">study</a>&nbsp;&gt;
      <a href="../">3</a>&nbsp;&gt;
    </nav></li>
  </ul>

  <span id="menu_board"></span>
</header>

<div id="main">
<h1 id="article_title2"><a class="mya" href="">prime_factorization</a></h1>

<!--
<h2><a id="1" class="mya" href="#1">JavaScript</a></h2>

<p>
<math><msup><mn>10</mn><mn>8</mn></msup></math> 以下の正整数を素因数分解します。
</p>

<p>
<label>入力: <input id="livetune"></label>
</p>

<input type="button" value="計算する" id="hoge">

<br>
<p>計算結果: <span id="out"></span></p>
-->

<h2><a id="2" class="mya" href="#2">C++</a></h2>

<p><a href="https://wandbox.org/permlink/epBJQn8FbERWyoa0">以下のコードを Wandbox で実行</a></p>

<pre><code class="language-cpp">
#include &lt;iostream&gt;
#include &lt;map&gt;

std::map&lt;long long, long long&gt; res;
long long t = 0;

void pf_mapA(long long N) {
  for (long long i = 2; i*i &lt;= N; i++) {
    if (N%i != 0) continue;
    long long cnt = 0;
    while (N%i == 0) {
      cnt++;
      N /= i;
    }

    res[i] += cnt;
    t++;
  }

  if (N != 1) res[N] = 1, t++;
}

int main() {
  long long N;
  std::cin &gt;&gt; N;

  if (N == 1) {
    std::cout &lt;&lt; "1は素因数を持ちません\n";
    return 0;
  }

  pf_mapA(N);

  std::cout &lt;&lt; N &lt;&lt; " = ";
  long long r = 0;
  for (auto i : res) {
    r++;
    std::cout &lt;&lt; i.first &lt;&lt; '^' &lt;&lt; i.second;
    if (t &gt; r) std::cout &lt;&lt; " * ";
  }
  std::cout &lt;&lt; '\n';

  return 0;
}
</code></pre>

<hr>

<span><a href="https://creativecommons.org/publicdomain/zero/1.0/deed.ja">CC0 1.0 Universal</a></span>
</div>

<!--
<script>
function pf(N, pf_array, judge, size) {
  let x = N;
  for (let i = 2; i <= N; i++) {
    if (x%i != 0) continue;

    let cnt = 0;
    while (x%i == 0) {
      cnt += 1;
      x /= i;
    }
    pf_array[i] = cnt;
    judge.push(i);
    size += 1;
  }

  if (x != 1) pf_array[x] = 1;
}

const t = document.getElementById('hoge');
t.addEventListener("click", () => {
  const Nn = document.getElementById('livetune');
  const N = Number(Nn.value);

  let pf_array = Array(N).fill(0);
  let judge = [];
  let size = 0;
  let Answer = "";

  if (N <= 0 || (N != 100000000 && 8 < Nn.length)) {
    Answer += "扱うことができない値です。";
    document.getElementById('out').textContent = Answer;
  }
  else if (N == 1) {
    Answer += "<math><mn>1</mn></math>" + " は素因数を持ちません。";
    document.getElementById('out').innerHTML = Answer;
  }
  else {
    pf(N, pf_array, judge, size);

    Answer += "<mn>" + N + "</mn><mo>=</mo>";

    for (let i = 0; i < size; i++) {
      let v1 = judge[i];
      let v2 = pf_array[v1];

      Answer += "<msup><mn>" + v1 + "</mn><mn>" + v2 + "</mn>";

      if (i + 1 != size) {
        Answer += "<mo>*</mo>";
      }
    }

    Answer += "</math>";
    document.getElementById('out').innerHTML = Answer;
  }


});
</script>
-->

<!-- MathJax --
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[['\$','\$'],['\\(','\\)']],processEscapes:true},CommonHTML: {matchFontHeight:false}});</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
-->

<!-- highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
