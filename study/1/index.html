<!DOCTYPE HTML>
<html lang="ja">

<!-- status:製作中, reference: https://qiita.com/mtn_kt/items/38b61906b5377addefea -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">
  <title>乱数ジェネレータ</title>
  <link rel="icon" href="favicon.ico">
</head>
<body>
  <h1 id="_title">乱数ジェネレータ</h1>

  <form action="#" name="rd_form">  
    何人?: <input type="text" name="rd">
    <input type="submit" value="OK">
    <p id="output"></p>
  </form>
</body>
<script type="text/javascript">
  function getRandomInt(max) {
      return Math.floor(Math.random() * max);
    }

  function rd() {
    if (rd_form.rd.value == "") {
      alert("値を入力してください");
      return false;
    } else {
      let N = rd_form.rd.value;
      let tf_array = Array(N).fill(0);
      for (let i = 0; i < N; i++) {
        tf_array[i] = i+1;
      }

      let cnt = 0;
      while (true) {
        let t = getRandomInt(N);
        if (tf_array[t-1] == 0) {
          document.write(t + "<br>");
          tf_array[t-1] = 1;
          cnt++;
        }
        if (cnt == N) break;
      }
  }
  
  document.getElementById('form').onsubmit = function(event) {
        event.preventDefault();
    
        let inputForm = document.getElementById('form').content.value;

        document.getElementById('output').textContent = `${inputForm}`;
  }
</script>
</html>
