<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>年月日から曜日計算</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>
<body> 

<nav id="breadcrumbs">
<a href="../../">ホーム</a> &gt;
<a href="../">study</a> &gt;
<a href="./">1</a> &gt;
</nav>

<h2>年月日から曜日計算</h2>

<p><a href="https://ja.wikipedia.org/wiki/?curid=690086">ツェラーの公式</a>を使って、年月日から、その日の曜日を計算します。</p>

<p>
<label>西暦何年？: <input id="year"></label><br>
<label>何月？: <input id="month"></label><br>
<label>何日？: <input id="day"></label>
</p>

<button onclick="calc()">計算する</button>

<h3>計算結果</h3>
<p><span id="out"></span></p>
<p><span id="test"></span></p>

<script>
let hoge = document.getElementById('out');
hoge.addEventlistner('click', calc);

function floor(a, b) {
  return Math.floor(a/b);
}

function Zeller_c(y, m, d) {
  if (y <= 1582 && m <= 10 && d <= 15) {
    return "すみません、1582年10月15日より前には対応していません";
  }

  let Youbi_str = "土日月火水木金";

  if (m < 3) {
    m += 12;
    y -= 1;
  }
  let Y = y%100;

  let ans = floor(26*(m+1), 10)%7 + d%7 + Y%7 + floor(Y, 4)%7 - (2*floor(y, 100))%7 + floor(y, 400)%7;

  return Youbi_str[ans%7];
}

function calc() {
  const y = document.getElementById('year');
  const m = document.getElementById('month');
  const d = document.getElementById('day');
  
  let Youbi = Zeller_c(y, m, d);

  document.getElementById('test').textContent = "ok";

  document.getElementById('out').textContent = y + "年" + m + "月" + d + "日は " + Youbi + "曜日 です。");
}
</script>

</body>
</html>
