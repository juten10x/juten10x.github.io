<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ライフゲーム</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap');
pre {
  color: blue;
  font-family: 'Fira Code';
}
</style>
<script>
"use strict";

let g = 0, d = 500, a = [], b = [];

function draw() {
  let s = '';
  for (let i = 1; i <= 25; i++) {
    for (let j = 1; j <= 40; j++) {
      let k = i * 41 + j;
      if (a[k])
        s += 'o';
      else
        s += ' ';
    }
    s += '\n';
  }
  s += "Generation: " + g;
  document.getElementById("board").textContent = s;
}

function update() {
  g++;
  for (let i = 1; i <= 25; i++) {
    for (let j = 1; j <= 40; j++) {
      let k = i * 41 + j;
      if (a[k]) {
        b[k-42]++; b[k-41]++; b[k-40]++;
        b[k- 1]++;            b[k+ 1]++;
        b[k+40]++; b[k+41]++; b[k+42]++;
      }
    }
  }
  for (let k = 0; k < 26 * 40 + 42; k++) {
    if (b[k] != 2) a[k] = (b[k] == 3);
    b[k] = 0;
  }
  draw();
}

for (let k = 0; k < 26 * 40 + 42; k++) {
  a[k] = false; b[k] = 0;
}

a[13*41+25] = true;
a[12*41+25] = true;
a[14*41+25] = true;
a[13*41+24] = true;
a[12*41+26] = true;

function duration() {
  d = getElementById('change_duration').value;
}
  
const dt = d;
setInterval(update, d);
window.addEventListener('DOMContentLoaded', draw);
</script>
</head>
<body>

<nav id="breadcrumbs">
<a href="../../">ホーム</a> &gt;
<a href="../">study</a> &gt;
<a href="./">1</a> &gt;
</nav>

<h2>ライフゲーム (Conway's Game of Life)</a></h2>

<p><a href="https://ja.wikipedia.org/wiki/?curid=16010">details</a></p>

<p>(under construction)</p>

<input id="input" onchange="duration()">

<pre id="board"></pre>

</body>
</html>
